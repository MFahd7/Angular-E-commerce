import{a as F}from"./chunk-DAXPEHMZ.js";import{a as E}from"./chunk-LLKP4264.js";import"./chunk-4CCPFO7F.js";import{a as k}from"./chunk-JHWFBJCD.js";import{D as y,o as T}from"./chunk-6AZ3IQKA.js";import"./chunk-OOTTVPT5.js";import"./chunk-GLXZBIO7.js";import{$ as m,Cb as p,Eb as c,Ka as x,Lb as a,Na as _,Nb as h,Ta as u,Ya as v,aa as d,lb as C,mb as w,ob as g,pb as S,qb as b,rb as r,sb as n,tb as f,zb as W}from"./chunk-26VLXO62.js";import"./chunk-4CLCTAJ7.js";var V=(i,e)=>e._id;function P(i,e){i&1&&(r(0,"div",3),f(1,"app-cart-loader"),n())}function D(i,e){if(i&1){let t=W();r(0,"div",4)(1,"div",6),p("click",function(){let o=m(t).$implicit,s=c(2);return d(s.goToDetails(o._id))}),f(2,"img",7),n(),r(3,"div",8)(4,"p",9),p("click",function(){let o=m(t).$implicit,s=c(2);return d(s.goToDetails(o._id))}),a(5),n(),r(6,"span",10),p("click",function(){let o=m(t).$implicit,s=c(2);return d(s.goToDetails(o._id))}),a(7),n(),r(8,"button",11),p("click",function(){let o=m(t).$implicit,s=c(2);return d(s.removeWishlistItem(o._id))}),f(9,"i",12),r(10,"span"),a(11,"Remove"),n()()(),r(12,"div",13)(13,"button",14),p("click",function(){let o=m(t).$implicit,s=c(2);return d(s.addProductCart(o._id))}),a(14," Add to Cart "),n()()()}if(i&2){let t=e.$implicit;_(2),b("src",t.imageCover,x)("alt",t.title),_(3),h(" ",t.title," "),_(2),h(" ",t.price," EGP ")}}function $(i,e){i&1&&(r(0,"div",5)(1,"p",15),a(2,"Your wishlist is empty."),n()())}function j(i,e){if(i&1&&g(0,D,15,4,"div",4,V,!1,$,3,0,"div",5),i&2){let t=c();S(t.wishlist)}}var I=class i{constructor(e,t,l,o){this.wishlistService=e;this.cartService=t;this.toastr=l;this.router=o}wishlist=[];isLoading=!1;ngOnInit(){this.loadWishlist()}loadWishlist(){this.isLoading=!0,this.wishlistService.getWishlist().subscribe(e=>{this.wishlist=e.data,this.isLoading=!1})}removeWishlistItem(e){this.wishlistService.removeFromWishlist(e).subscribe(()=>{this.wishlist=this.wishlist.filter(t=>t._id!==e)})}addProductCart(e){this.cartService.addToCart(e).subscribe({next:t=>{this.toastr.success(t.message)},error:t=>{this.toastr.error(t.message)}})}goToDetails(e){this.router.navigate(["/product-details",e])}static \u0275fac=function(t){return new(t||i)(u(E),u(k),u(y),u(T))};static \u0275cmp=v({type:i,selectors:[["app-wishlist"]],decls:6,vars:1,consts:[[1,"bg-gray-100","p-4","rounded"],[1,"text-2xl","font-semibold","mb-4"],[1,"flex","flex-col","gap-3","h-screen","overflow-y-auto"],[1,"flex","justify-center"],[1,"flex","flex-col","sm:flex-row","w-full","items-start","sm:items-center","bg-white","p-4","rounded-xl","shadow","gap-3"],[1,"text-center","py-4","col-span-3"],[1,"cursor-pointer","w-full","sm:w-28","flex-shrink-0",3,"click"],[1,"w-full","h-auto","rounded","object-cover",3,"src","alt"],[1,"flex-1"],[1,"cursor-pointer","text-base","font-medium",3,"click"],[1,"cursor-pointer","text-main","font-semibold",3,"click"],[1,"mt-2","flex","gap-1","items-center","text-red-600","hover:text-red-800","text-sm",3,"click"],[1,"fa-solid","fa-trash"],[1,"sm:ml-3","w-full","sm:w-auto"],[1,"w-full","sm:w-auto","px-3","py-1.5","font-semibold","text-white","bg-green-500","hover:bg-green-600","rounded-lg","text-sm","transition",3,"click"],[1,"text-gray-600"]],template:function(t,l){t&1&&(r(0,"div",0)(1,"h1",1),a(2,"Wishlist \u2764\uFE0F"),n(),r(3,"div",2),C(4,P,2,0,"div",3)(5,j,3,1),n()()),t&2&&(_(4),w(l.isLoading?4:5))},dependencies:[F],encapsulation:2})};export{I as WishlistComponent};
