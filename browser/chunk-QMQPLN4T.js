import{a as M,b as O,c as V}from"./chunk-EDOPA5EH.js";import{a as L}from"./chunk-J7GH3H2L.js";import{a as A}from"./chunk-LLKP4264.js";import"./chunk-4CCPFO7F.js";import{a as E}from"./chunk-JHWFBJCD.js";import{D as j,m as W}from"./chunk-6AZ3IQKA.js";import"./chunk-OOTTVPT5.js";import"./chunk-GLXZBIO7.js";import{$ as f,Cb as v,Eb as d,Ka as _,Kb as I,Lb as n,Mb as h,Na as l,Nb as p,Ta as c,Ya as w,aa as g,ab as y,ba as x,ca as b,lb as D,mb as S,nb as C,ob as P,pb as T,qb as m,rb as r,sb as a,tb as o,zb as k}from"./chunk-26VLXO62.js";import"./chunk-4CLCTAJ7.js";function H(i,e){i&1&&(r(0,"div",0)(1,"div",2),x(),r(2,"svg",3),o(3,"path",4),a()(),b(),r(4,"div",5),o(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9)(9,"div",10)(10,"div",11),a()())}function R(i,e){if(i&1&&o(0,"img",24),i&2){let t=d().$implicit;m("src",t,_)}}function Z(i,e){if(i&1&&y(0,R,1,1,"ng-template",14),i&2){let t=e.$implicit;m("id",t)}}function B(i,e){if(i&1){let t=k();r(0,"div",1)(1,"div",12)(2,"owl-carousel-o",13),P(3,Z,1,1,null,14,C),a()(),r(5,"div",15)(6,"h2",16),n(7),r(8,"button",17),v("click",function(){f(t);let s=d();return g(s.toggleWishlist(s.productDetails._id))}),o(9,"i",18),a()(),r(10,"p",19),n(11),a(),r(12,"span"),n(13),a(),r(14,"div",20)(15,"span"),n(16),a(),r(17,"span"),o(18,"i",21),n(19),a()(),r(20,"button",22),v("click",function(){f(t);let s=d();return g(s.addProductCart(s.productDetails==null?null:s.productDetails._id))}),o(21,"i",23),n(22,"Add to cart "),a()()()}if(i&2){let t=d();l(2),m("options",t.customOptions),l(),T(t.productDetails==null?null:t.productDetails.images),l(4),p(" ",t.productDetails==null?null:t.productDetails.title," "),l(2),I(t.isInWishlist(t.productDetails._id)?"fa-solid text-red-500":"fa-regular text-gray-400"),l(2),h(t.productDetails==null?null:t.productDetails.description),l(2),h(t.productDetails==null||t.productDetails.category==null?null:t.productDetails.category.name),l(3),p("",t.productDetails==null?null:t.productDetails.price," EGP"),l(3),p(" ",t.productDetails==null?null:t.productDetails.ratingsAverage)}}var F=class i{constructor(e,t,u,s,G){this.productService=e;this.route=t;this.cartService=u;this.toastr=s;this.wishlistService=G}customOptions={loop:!0,autoplay:!0,autoplayTimeout:2250,mouseDrag:!1,touchDrag:!1,pullDrag:!1,dots:!0,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:4}},nav:!1,autoplayHoverPause:!0};productDetails=null;isLoading=!1;ngOnInit(){this.route.paramMap.subscribe(e=>{let t=e.get("id");this.getProductDetails(t)}),this.wishlistService.getWishlist().subscribe(e=>{this.wishlist=e.data.map(t=>t._id)})}getProductDetails(e){this.isLoading=!0,this.productService.getSpecificProduct(e).subscribe({next:t=>{this.isLoading=!1,console.log(t.data),this.productDetails=t.data},error:t=>{this.isLoading=!1,console.log(t)}})}addProductCart(e){if(!e){this.toastr.error("Invalid product ID");return}this.cartService.addToCart(e).subscribe({next:t=>{this.toastr.success(t.message)},error:t=>{this.toastr.error(t.message)}})}wishlist=[];toggleWishlist(e){this.isInWishlist(e)?this.wishlistService.removeFromWishlist(e).subscribe(()=>{this.wishlist=this.wishlist.filter(t=>t!==e)}):this.wishlistService.addToWishlist(e).subscribe(()=>{this.wishlist.push(e)})}isInWishlist(e){return this.wishlist.includes(e)}static \u0275fac=function(t){return new(t||i)(c(L),c(W),c(E),c(j),c(A))};static \u0275cmp=w({type:i,selectors:[["app-product-details"]],decls:2,vars:1,consts:[["role","status",1,"space-y-8","animate-pulse","md:space-y-0","md:space-x-8","rtl:space-x-reverse","md:flex","md:items-center","my-16","mx-auto"],[1,"my-16","flex","flex-wrap","items-center","mx-auto"],[1,"flex","items-center","justify-center","w-full","h-48","bg-gray-300","rounded-sm","sm:w-96","dark:bg-gray-700"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 18",1,"w-10","h-10","text-gray-200","dark:text-gray-600"],["d","M18 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm4.376 10.481A1 1 0 0 1 16 15H4a1 1 0 0 1-.895-1.447l3.5-7A1 1 0 0 1 7.468 6a.965.965 0 0 1 .9.5l2.775 4.757 1.546-1.887a1 1 0 0 1 1.618.1l2.541 4a1 1 0 0 1 .028 1.011Z"],[1,"w-full"],[1,"h-2.5","bg-gray-200","rounded-full","dark:bg-gray-700","w-48","mb-4"],[1,"h-2","bg-gray-200","rounded-full","dark:bg-gray-700","max-w-[480px]","mb-2.5"],[1,"h-2","bg-gray-200","rounded-full","dark:bg-gray-700","mb-2.5"],[1,"h-2","bg-gray-200","rounded-full","dark:bg-gray-700","max-w-[440px]","mb-2.5"],[1,"h-2","bg-gray-200","rounded-full","dark:bg-gray-700","max-w-[460px]","mb-2.5"],[1,"h-2","bg-gray-200","rounded-full","dark:bg-gray-700","max-w-[360px]"],[1,"w-full","lg:w-1/4"],[3,"options"],["carouselSlide","",3,"id"],[1,"w-[82%]","lg:w-[70%]","mx-auto","mt-2","lg:mt-0"],[1,"text-4xl","font-light","mb-4"],[1,"text-2xl","cursor-pointer","active:scale-95","transition-all","duration-150",3,"click"],[1,"fa-heart"],[1,"text-gray-500","mb-9"],[1,"flex","justify-between","items-center","mb-2"],[1,"fa-solid","fa-star",2,"color","#ffd43b"],[1,"w-full","mt-3","cursor-pointer","active:scale-95","transition-all","duration-150","bg-main","text-white","py-1.5","rounded",3,"click"],[1,"fa-solid","fa-plus",2,"color","#ffffff"],[1,"h-72","object-contain",3,"src"]],template:function(t,u){t&1&&D(0,H,11,0,"div",0)(1,B,23,8,"div",1),t&2&&S(u.isLoading?0:1)},dependencies:[V,O,M],encapsulation:2})};export{F as ProductDetails};
